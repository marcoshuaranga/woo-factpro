<?php

namespace Factpro\WP;

defined('ABSPATH') || exit;

use Factpro\WP\AdminPanel\WCSettingsTab;

final class AdminHooks
{
    public static function init()
    {

        add_action( 'admin_menu', function () {
            $menu_title = esc_html__('Factpro', 'factpro-for-woocommerce');
            $menu_icon = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiPgo8cGF0aCBkPSJNMCAwIEMwLjcwNTc4ODcxIC0wLjAwMDg1NDQyIDEuNDExNTc3NDEgLTAuMDAxNzA4ODUgMi4xMzg3NTM2NSAtMC4wMDI1ODkxNyBDNC41MDMzMTUyMiAtMC4wMDQyMzYwNiA2Ljg2NzgwNTgxIDAuMDAxMjY0NDcgOS4yMzIzNjA4NCAwLjAwNjcyOTEzIEMxMC45Mjc1MTA1NiAwLjAwNzAxMTE5IDEyLjYyMjY2MDQxIDAuMDA2ODUyODggMTQuMzE3ODEwMDYgMC4wMDYyODY2MiBDMTguOTIwNzQyODYgMC4wMDU5OTk0MSAyMy41MjM2NDk2NyAwLjAxMTg4MzgyIDI4LjEyNjU3NjQyIDAuMDE4ODYwNTggQzMyLjkzNjU1NTggMC4wMjUxMDY4MiAzNy43NDY1MzU3NSAwLjAyNTY5ODkyIDQyLjU1NjUxODU1IDAuMDI2ODg1OTkgQzUxLjY2NTM3Nzg5IDAuMDI5OTk1NTUgNjAuNzc0MjI1MjQgMC4wMzgyMDM5IDY5Ljg4MzA3OTI5IDAuMDQ4MjM1NDggQzgwLjI1Mjk4NTIxIDAuMDU5NDA4MjQgOTAuNjIyODkxNyAwLjA2NDkxIDEwMC45OTI4MDIxNCAwLjA2OTkzMDkxIEMxMjIuMzI0OTQwMzggMC4wODAzODY4MSAxNDMuNjU3MDY3ODIgMC4wOTc5NzkwMSAxNjQuOTg5MTk2NzggMC4xMjAyNTQ1MiBDMTY0Ljg1MzY1MjQ5IDMuNzM5MDExOTggMTY0LjcwOTI0ODczIDcuMzU3MzY2OTkgMTY0LjU2MzQxNTUzIDEwLjk3NTcyMzI3IEMxNjQuNTI1NjcwMTcgMTEuOTg2MzA3OTggMTY0LjQ4NzkyNDggMTIuOTk2ODkyNyAxNjQuNDQ5MDM1NjQgMTQuMDM4MTAxMiBDMTYzLjE5NzE4NDQ2IDQ0LjQ5MTY3MTIyIDE2My4xOTcxODQ0NiA0NC40OTE2NzEyMiAxNTEuNjc2Njk2NzggNTUuNTU3NzU0NTIgQzE0Mi45NDA3NzQzNyA2Mi4wNjg5OTIyIDEzMy4wNzU2MzQxNyA2MS41MzYyODY5NiAxMjIuNjM3MzkwMTQgNjEuNDYwODMwNjkgQzEyMC45OTA3NjM1IDYxLjQ1OTk4MzM1IDExOS4zNDQxMzU3NCA2MS40NjA0NjE2NCAxMTcuNjk3NTA5NzcgNjEuNDYyMTU4MiBDMTEzLjI0OTczNjkxIDYxLjQ2MzAxNTQzIDEwOC44MDIyMDkwNiA2MS40NDU0MzQwNyAxMDQuMzU0NDkyOSA2MS40MjQ0MzYzMyBDOTkuNjk4MDM2NzUgNjEuNDA1NjIzODUgOTUuMDQxNTc0MzYgNjEuNDAzOTE1NSA5MC4zODUwODYwNiA2MS40MDAzNjAxMSBDODEuNTc3MzgwODIgNjEuMzkxMDUzMDQgNzIuNzY5Nzg3OTEgNjEuMzY2NDU3NDMgNjMuOTYyMTMyMDQgNjEuMzM2MzExNjQgQzUzLjkzMDY5MTExIDYxLjMwMjcyNTg5IDQzLjg5OTI0NDY5IDYxLjI4NjI3MTE0IDMzLjg2Nzc2MTQ5IDYxLjI3MTIyNTMzIEMxMy4yNDE1MTA2NyA2MS4yMzk5MDY2NSAtNy4zODQ2MzkxOCA2MS4xODcxNzIyNiAtMjguMDEwODAzMjIgNjEuMTIwMjU0NTIgQy0yOC4wMTM4NzAwOCA1OC4wNjY5NDk3MSAtMjguMDE2MTEzMzIgNTUuMDEzNjQ4MDEgLTI4LjAxNzg4MzMgNTEuOTYwMzQyNDEgQy0yOC4wMTg4MzI0NyA1MS4wOTk3MjQ1IC0yOC4wMTk3ODE2NSA1MC4yMzkxMDY2IC0yOC4wMjA3NTk1OCA0OS4zNTI0MDkzNiBDLTI4LjAzNDQ5MzI0IDE3Ljc2MzU4MTIgLTI4LjAzNDQ5MzI0IDE3Ljc2MzU4MTIgLTE5LjAxMDgwMzIyIDcuMTIwMjU0NTIgQy0xOC4zNTA4MDMyMiA3LjEyMDI1NDUyIC0xNy42OTA4MDMyMiA3LjEyMDI1NDUyIC0xNy4wMTA4MDMyMiA3LjEyMDI1NDUyIEMtMTcuMDEwODAzMjIgNi40NjAyNTQ1MiAtMTcuMDEwODAzMjIgNS44MDAyNTQ1MiAtMTcuMDEwODAzMjIgNS4xMjAyNTQ1MiBDLTExLjA3OTYyNTggMC42NzE4NzE0NSAtNy4zMDAxNjc3NSAtMC4wMDUzMjA4MiAwIDAgWiAiIGZpbGw9IiMyMzFDMUMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk1LjAxMDgwMzIyMjY1NjI1LDUyLjg3OTc0NTQ4MzM5ODQ0KSIvPgo8cGF0aCBkPSJNMCAwIEM0My41NiAwIDg3LjEyIDAgMTMyIDAgQzEzMS42NyAzLjk2IDEzMS4zNCA3LjkyIDEzMSAxMiBDMTMwLjgwNDcwNzAzIDE0LjgwOTUxMTcyIDEzMC44MDQ3MDcwMyAxNC44MDk1MTE3MiAxMzAuNjA1NDY4NzUgMTcuNjc1NzgxMjUgQzEyOC4zNDA0MTk5NSA0OS4zNTMyNzY5OSAxMjguMzQwNDE5OTUgNDkuMzUzMjc2OTkgMTE4IDU5IEMxMTIuODM0NDMwOTcgNjIuOTMyMDAwMyAxMDcuNjEzOTAzNzQgNjQuMTI3NTU4NzUgMTAxLjIyMjcwMjAzIDY0LjEyMDI1NDUyIEM5OS44MjQwNTY2MyA2NC4xMjIzMTY1MSA5OS44MjQwNTY2MyA2NC4xMjIzMTY1MSA5OC4zOTcxNTU3NiA2NC4xMjQ0MjAxNyBDOTcuMzg2NTUwOSA2NC4xMjA4MjQ4OSA5Ni4zNzU5NDYwNCA2NC4xMTcyMjk2MSA5NS4zMzQ3MTY4IDY0LjExMzUyNTM5IEM5NC4yNjEwOTM5IDY0LjExMzY3MTQyIDkzLjE4NzQ3MTAxIDY0LjExMzgxNzQ0IDkyLjA4MTMxNDA5IDY0LjExMzk2NzkgQzg4LjUzNzI2MTY2IDY0LjExMzI3MTk2IDg0Ljk5MzI2MTk4IDY0LjEwNTQ5NDQ0IDgxLjQ0OTIxODc1IDY0LjA5NzY1NjI1IEM3OC45OTAxMzgwMyA2NC4wOTU3OTA5NCA3Ni41MzEwNTY5MyA2NC4wOTQzNjc1NyA3NC4wNzE5NzU3MSA2NC4wOTMzNjg1MyBDNjcuNjAyOTI1MzQgNjQuMDg5NTUyMjcgNjEuMTMzODk3NDUgNjQuMDc5NzI5NTYgNTQuNjY0ODU1OTYgNjQuMDY4NjY0NTUgQzQ4LjA2MjM4MTAyIDY0LjA1ODQzMTMgNDEuNDU5OTAyNDUgNjQuMDUzODY2OCAzNC44NTc0MjE4OCA2NC4wNDg4MjgxMiBDMjEuOTA0OTM4MzMgNjQuMDM4MTA2NTIgOC45NTI0NzAzNiA2NC4wMjEyMzMyNiAtNCA2NCBDLTMuMDE2OTY3MzUgMzEuNTI5ODk0MTQgLTMuMDE2OTY3MzUgMzEuNTI5ODk0MTQgLTIgMTguNSBDLTEuODc2MjUgMTYuNzc1MjM0MzcgLTEuODc2MjUgMTYuNzc1MjM0MzcgLTEuNzUgMTUuMDE1NjI1IEMtMS4zNzA5Mzk1NyA5LjkyMjAwMDQ2IC0wLjg0MjIwNzQzIDUuMDUzMjQ0NTggMCAwIFogIiBmaWxsPSIjMjMxQzFDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NiwxMzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzE5LjE0IDAgMzguMjggMCA1OCAwIEM1OCAxNC4xMjEwMTY5NyA1Ny44NTc4MzEzMiAyNC45Mzk2NzU5NSA1MSAzNyBDNTAuMzQgMzcgNDkuNjggMzcgNDkgMzcgQzQ4LjY3IDM3Ljk5IDQ4LjM0IDM4Ljk4IDQ4IDQwIEM0Ny4zNCA0MCA0Ni42OCA0MCA0NiA0MCBDNDYgNDAuNjYgNDYgNDEuMzIgNDYgNDIgQzQ0LjYwNzIxOTgzIDQyLjY1MjM5MTU4IDQzLjIxMDYwNzg4IDQzLjI5NjYwNTUyIDQxLjgxMjUgNDMuOTM3NSBDNDAuNjQ2NTQyOTcgNDQuNDc2OTcyNjYgNDAuNjQ2NTQyOTcgNDQuNDc2OTcyNjYgMzkuNDU3MDMxMjUgNDUuMDI3MzQzNzUgQzM0LjM4MjIzOTAzIDQ3LjAzNjI4Mzc1IDI5LjQ3NDAzOTU0IDQ3LjEzNjQ3NzcyIDI0LjA3NDIxODc1IDQ3LjA5NzY1NjI1IEMyMi45NTI4MzI1NyA0Ny4wOTU1MzM4MyAyMi45NTI4MzI1NyA0Ny4wOTU1MzM4MyAyMS44MDg3OTIxMSA0Ny4wOTMzNjg1MyBDMTkuNDM0OTg2MzUgNDcuMDg3Nzk3NjQgMTcuMDYxMjc2OTcgNDcuMDc1MjUwNiAxNC42ODc1IDQ3LjA2MjUgQzEzLjA3MjI2Njk5IDQ3LjA1NzQ4MTIzIDExLjQ1NzAzMjUgNDcuMDUyOTE4OTkgOS44NDE3OTY4OCA0Ny4wNDg4MjgxMiBDNS44OTQ0OTQ0NSA0Ny4wMzc4Mzc3NSAxLjk0NzI2MzUzIDQ3LjAyMDU5MzMyIC0yIDQ3IEMtMi4xMzEwOTQgMzYuMTExOTE1MDcgLTEuNzcwMTA4NDggMjUuMzYyMzMyNTUgLTEgMTQuNSBDLTAuNjcgOS43MTUgLTAuMzQgNC45MyAwIDAgWiAiIGZpbGw9IiMyMzFDMUMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU4LDIyNCkiLz4KPC9zdmc+
';
            // Link to the Payments settings page.
            $menu_path = 'admin.php?page=wc-settings&tab=settings_tab_factpro';

            add_menu_page(
                $menu_title,
                $menu_title,
                'manage_woocommerce', // Capability required to see the menu item.
                $menu_path,
                null,
                $menu_icon,
                53, // Position before Woocommerce menu item.
            );

        });

        add_filter('woocommerce_settings_tabs_array', function ($settings_tabs) {
            $settings_tabs['settings_tab_factpro'] = WCSettingsTab::getTitle();

            return $settings_tabs;
        }, 30);

        add_action('woocommerce_settings_tabs_settings_tab_factpro', function () {
            woocommerce_admin_fields(WCSettingsTab::getSettings());
        });

        add_action('woocommerce_update_options_settings_tab_factpro', function () {
            woocommerce_update_options(WCSettingsTab::getSettings());
        });
    }
}

function myplugin_settings_page() {
    ?>
    <div class="wrap">
        <h1>My Plugin Settings</h1>
        <p>Hello from my plugin admin page.</p>
    </div>
    <?php
}
